{"ast":null,"code":"import _defineProperty from \"/Users/rst_979/MonashBootCamp/bespoke_bbqs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/rst_979/MonashBootCamp/bespoke_bbqs/src/containers/Signup/index.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component } from \"react\";\nimport \"./style.css\";\nimport Logo from \"../../components/Logo\";\nimport MobileTypeInput from \"../../components/UI/MobileTypeInput\";\nimport SubmitGradientButton from \"../../components/UI/SubmitGradientButton\";\nimport * as authActions from \"../../store/actions/authActions\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport Error from \"../../components/Error\";\n\nclass Signup extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      redirectToreferrer: false,\n      signupForm: {\n        firstName: \"\",\n        lastName: \"\",\n        email: \"\",\n        password: \"\",\n        repassword: \"\",\n        isError: false,\n        errorMessage: \"\"\n      }\n    };\n\n    this.textHandler = e => {\n      const signupForm = this.state.signupForm;\n\n      const updateSignupForm = _objectSpread({}, signupForm, {\n        [e.target.name]: e.target.value\n      });\n\n      this.setState({\n        signupForm: updateSignupForm\n      });\n    };\n\n    this.setError = (error, message) => {\n      const signupForm = this.state.signupForm;\n\n      const updatedSignupForm = _objectSpread({}, signupForm, {\n        isError: error,\n        errorMessage: message\n      });\n\n      this.setState({\n        signupForm: updatedSignupForm\n      });\n    };\n\n    this.signupHandler = e => {\n      e.preventDefault();\n      const signupForm = this.state.signupForm;\n\n      if (signupForm.firstName === \"\") {\n        this.setError(true, \"Enter First Name\");\n        return;\n      }\n\n      if (signupForm.lastName === \"\") {\n        this.setError(true, \"Enter Last Name\");\n        return;\n      }\n\n      const emailPattern = new RegExp(/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/);\n\n      if (!emailPattern.test(signupForm.email)) {\n        this.setError(true, \"Invalid Email Address\");\n        return;\n      }\n\n      if (signupForm.email === \"\") {\n        this.setError(true, \"Enter Email\");\n        return;\n      }\n\n      if (signupForm.password === \"\") {\n        this.setError(true, \"Enter Password\");\n        return;\n      }\n\n      if (signupForm.repassword === \"\") {\n        this.setError(true, \"Enter Repassword\");\n        return;\n      }\n\n      if (signupForm.password !== signupForm.repassword) {\n        this.setError(true, \"Password dosent match\");\n        return;\n      }\n\n      const user = {\n        firstName: signupForm.firstName,\n        lastName: signupForm.lastName,\n        email: signupForm.email,\n        password: signupForm.password\n      };\n      this.props.signup(user).then(jsonResponse => {\n        console.log(jsonResponse);\n        this.props.history.push({\n          pathname: \"/login\",\n          search: \"?signup=success\",\n          state: \"jsonResponse.message\"\n        });\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n  }\n\n  componentDidMount() {\n    if (!this.props.auth.isAuthenticated) {\n      this.props.getToken().then(result => {\n        // result will be either true or false\n        if (result) {\n          this.setState({\n            redirectToreferrer: true\n          });\n        }\n      }).catch(er => {\n        console.log(er);\n      });\n    }\n  }\n\n  render() {\n    const _this$state = this.state,\n          signupForm = _this$state.signupForm,\n          redirectToreferrer = _this$state.redirectToreferrer;\n\n    if (redirectToreferrer) {\n      return React.createElement(Redirect, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(\"div\", {\n      className: \"LoginContainer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"WelcomeText\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, \"Signup\")), React.createElement(Logo, {\n      style: {\n        margin: \"0 auto\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"LoginWrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.signupHandler,\n      autoComplete: \"off\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"space-between\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        width: \"49%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, React.createElement(MobileTypeInput, {\n      type: \"text\",\n      placeholder: \"First Name\",\n      value: signupForm.firstName,\n      textHandler: this.textHandler,\n      name: \"firstName\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      style: {\n        width: \"49%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, React.createElement(MobileTypeInput, {\n      type: \"text\",\n      placeholder: \"Last Name\",\n      value: signupForm.lastName,\n      textHandler: this.textHandler,\n      name: \"lastName\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }))), React.createElement(MobileTypeInput, {\n      type: \"text\",\n      placeholder: \"Email\",\n      value: signupForm.email,\n      textHandler: this.textHandler,\n      name: \"email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }), React.createElement(MobileTypeInput, {\n      type: \"password\",\n      placeholder: \"Password\",\n      value: signupForm.password,\n      textHandler: this.textHandler,\n      name: \"password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }), React.createElement(MobileTypeInput, {\n      type: \"password\",\n      placeholder: \"Re-enter Password\",\n      value: signupForm.repassword,\n      textHandler: this.textHandler,\n      name: \"repassword\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }), React.createElement(Error, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, this.state.signupForm.errorMessage), React.createElement(SubmitGradientButton, {\n      label: \"Signup\",\n      style: {\n        marginTop: \"30px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"space-between\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, \"Login\"), React.createElement(Link, {\n      to: \"/forget-password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, \"Forgot Password ?\")));\n  }\n\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    signup: user => dispatch(authActions.signup(user)),\n    getToken: () => dispatch(authActions.getToken())\n  };\n};\n\nconst mapStateToProps = state => {\n  return {\n    auth: state.auth\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Signup);","map":{"version":3,"sources":["/Users/rst_979/MonashBootCamp/bespoke_bbqs/src/containers/Signup/index.js"],"names":["React","Component","Logo","MobileTypeInput","SubmitGradientButton","authActions","Link","Redirect","connect","Error","Signup","state","redirectToreferrer","signupForm","firstName","lastName","email","password","repassword","isError","errorMessage","textHandler","e","updateSignupForm","target","name","value","setState","setError","error","message","updatedSignupForm","signupHandler","preventDefault","emailPattern","RegExp","test","user","props","signup","then","jsonResponse","console","log","history","push","pathname","search","catch","componentDidMount","auth","isAuthenticated","getToken","result","er","render","margin","display","justifyContent","width","marginTop","mapDispatchToProps","dispatch","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./style.css\";\nimport Logo from \"../../components/Logo\";\nimport MobileTypeInput from \"../../components/UI/MobileTypeInput\";\nimport SubmitGradientButton from \"../../components/UI/SubmitGradientButton\";\nimport * as authActions from \"../../store/actions/authActions\";\n\nimport { Link, Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport Error from \"../../components/Error\";\n\nclass Signup extends Component {\n  state = {\n    redirectToreferrer: false,\n    signupForm: {\n      firstName: \"\",\n      lastName: \"\",\n      email: \"\",\n      password: \"\",\n      repassword: \"\",\n      isError: false,\n      errorMessage: \"\"\n    }\n  };\n\n  textHandler = e => {\n    const signupForm = this.state.signupForm;\n    const updateSignupForm = {\n      ...signupForm,\n      [e.target.name]: e.target.value\n    };\n    this.setState({\n      signupForm: updateSignupForm\n    });\n  };\n\n  setError = (error, message) => {\n    const { signupForm } = this.state;\n    const updatedSignupForm = {\n      ...signupForm,\n      isError: error,\n      errorMessage: message\n    };\n    this.setState({\n      signupForm: updatedSignupForm\n    });\n  };\n\n  signupHandler = e => {\n    e.preventDefault();\n    const { signupForm } = this.state;\n    if (signupForm.firstName === \"\") {\n      this.setError(true, \"Enter First Name\");\n      return;\n    }\n    if (signupForm.lastName === \"\") {\n      this.setError(true, \"Enter Last Name\");\n      return;\n    }\n\n    const emailPattern = new RegExp(\n      /[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/\n    );\n    if (!emailPattern.test(signupForm.email)) {\n      this.setError(true, \"Invalid Email Address\");\n      return;\n    }\n\n    if (signupForm.email === \"\") {\n      this.setError(true, \"Enter Email\");\n      return;\n    }\n    if (signupForm.password === \"\") {\n      this.setError(true, \"Enter Password\");\n      return;\n    }\n    if (signupForm.repassword === \"\") {\n      this.setError(true, \"Enter Repassword\");\n      return;\n    }\n    if (signupForm.password !== signupForm.repassword) {\n      this.setError(true, \"Password dosent match\");\n      return;\n    }\n\n    const user = {\n      firstName: signupForm.firstName,\n      lastName: signupForm.lastName,\n      email: signupForm.email,\n      password: signupForm.password\n    };\n\n    this.props\n      .signup(user)\n      .then(jsonResponse => {\n        console.log(jsonResponse);\n        this.props.history.push({\n          pathname: \"/login\",\n          search: \"?signup=success\",\n          state: \"jsonResponse.message\"\n        });\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  };\n\n  componentDidMount() {\n    if (!this.props.auth.isAuthenticated) {\n      this.props\n        .getToken()\n        .then(result => {\n          // result will be either true or false\n          if (result) {\n            this.setState({\n              redirectToreferrer: true\n            });\n          }\n        })\n        .catch(er => {\n          console.log(er);\n        });\n    }\n  }\n\n  render() {\n    const { signupForm, redirectToreferrer } = this.state;\n\n    if (redirectToreferrer) {\n      return <Redirect to=\"/\" />;\n    }\n\n    return (\n      <div className=\"LoginContainer\">\n        <div className=\"WelcomeText\">\n          <h3>Signup</h3>\n        </div>\n        <Logo style={{ margin: \"0 auto\" }} />\n        <div className=\"LoginWrapper\">\n          <form onSubmit={this.signupHandler} autoComplete=\"off\">\n            <div style={{ display: \"flex\", justifyContent: \"space-between\" }}>\n              <div style={{ width: \"49%\" }}>\n                <MobileTypeInput\n                  type=\"text\"\n                  placeholder=\"First Name\"\n                  value={signupForm.firstName}\n                  textHandler={this.textHandler}\n                  name=\"firstName\"\n                />\n              </div>\n              <div style={{ width: \"49%\" }}>\n                <MobileTypeInput\n                  type=\"text\"\n                  placeholder=\"Last Name\"\n                  value={signupForm.lastName}\n                  textHandler={this.textHandler}\n                  name=\"lastName\"\n                />\n              </div>\n            </div>\n\n            <MobileTypeInput\n              type=\"text\"\n              placeholder=\"Email\"\n              value={signupForm.email}\n              textHandler={this.textHandler}\n              name=\"email\"\n            />\n            <MobileTypeInput\n              type=\"password\"\n              placeholder=\"Password\"\n              value={signupForm.password}\n              textHandler={this.textHandler}\n              name=\"password\"\n            />\n            <MobileTypeInput\n              type=\"password\"\n              placeholder=\"Re-enter Password\"\n              value={signupForm.repassword}\n              textHandler={this.textHandler}\n              name=\"repassword\"\n            />\n\n            <Error>{this.state.signupForm.errorMessage}</Error>\n\n            <SubmitGradientButton\n              label=\"Signup\"\n              style={{ marginTop: \"30px\" }}\n            />\n          </form>\n        </div>\n        <div style={{ display: \"flex\", justifyContent: \"space-between\" }}>\n          <Link to=\"/login\">Login</Link>\n          <Link to=\"/forget-password\">Forgot Password ?</Link>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    signup: user => dispatch(authActions.signup(user)),\n    getToken: () => dispatch(authActions.getToken())\n  };\n};\nconst mapStateToProps = state => {\n  return {\n    auth: state.auth\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Signup);\n"]},"metadata":{},"sourceType":"module"}