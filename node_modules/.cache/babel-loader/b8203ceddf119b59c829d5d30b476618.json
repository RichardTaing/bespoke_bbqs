{"ast":null,"code":"var _jsxFileName = \"/Users/rst_979/MonashBootCamp/bespoke_bbqs/src/components/ShopStore/Products/Products.js\";\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport * as productActions from \"../../../store/actions/productActions\";\nimport { connect } from \"react-redux\";\nimport \"./style.css\";\nimport Product from \"./Product\";\n\nclass Products extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      slug: \"Products\"\n    };\n\n    this.getProducts = (categorySlug = \"\", filter = null) => {\n      this.props.getProducts(categorySlug, filter).then(response => {\n        console.log(response); // this.setState({\n        //     products: response.message\n        // })\n      });\n    };\n\n    this.applyFilter = filter => {\n      const slug = this.props.match.params.slug === \"all\" ? \"\" : this.props.match.params.slug;\n      this.getProducts(slug, filter);\n    };\n  }\n\n  componentDidMount() {\n    const slug = this.props.match.params.slug === \"all\" ? \"\" : this.props.match.params.slug;\n    this.getProducts(slug);\n    this.props.getCategories();\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.match.params.slug != prevProps.match.params.slug) {\n      this.getProducts(this.props.match.params.slug);\n    }\n  }\n\n  categoryTree(categories) {\n    var categoriesAr = [];\n\n    for (var value of categories) {\n      categoriesAr.push(React.createElement(\"li\", {\n        key: value.slug,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/products/\".concat(value.slug),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, value.name), value.children.length > 0 ? React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, this.categoryTree(value.children)) : null));\n    }\n\n    return categoriesAr;\n  }\n\n  render() {\n    const slug = Object.keys(this.props.match.params).length > 0 ? this.props.match.params.slug : this.state.slug;\n    return React.createElement(\"div\", {\n      className: \"Content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"ContentTitle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      className: \"CategoryTitle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, slug)), React.createElement(\"div\", {\n      className: \"ContentBody\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"SideMenu\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      className: \"SideMenuTitle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, \"Filters\"), React.createElement(\"div\", {\n      className: \"Filter\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"FilterTitle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, \"Categories\"), React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, this.props.products.categories.length > 0 ? this.categoryTree(this.props.products.categories) : null)), React.createElement(\"div\", {\n      className: \"Filter\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"FilterTitle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \"Price\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: () => this.applyFilter({\n        price: 1\n      }),\n      className: \"FilterButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \"Low to High\")), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: () => this.applyFilter({\n        price: -1\n      }),\n      className: \"FilterButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \"High to Low\")))), React.createElement(\"div\", {\n      className: \"MainContent\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"ProductArea\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, this.props.products.products.map(product => React.createElement(Product, {\n      key: product._id,\n      id: product._id,\n      name: product.name,\n      price: product.price,\n      productPic: product.productPic,\n      slug: product.slug,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }))))));\n  }\n\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    getProducts: (categorySlug, filter) => dispatch(productActions.getProducts(categorySlug, filter)),\n    getCategories: () => dispatch(productActions.getCategories())\n  };\n};\n\nconst mapStateToProps = state => {\n  return {\n    products: state.products\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Products);","map":{"version":3,"sources":["/Users/rst_979/MonashBootCamp/bespoke_bbqs/src/components/ShopStore/Products/Products.js"],"names":["React","Component","Link","productActions","connect","Product","Products","state","slug","getProducts","categorySlug","filter","props","then","response","console","log","applyFilter","match","params","componentDidMount","getCategories","componentDidUpdate","prevProps","categoryTree","categories","categoriesAr","value","push","name","children","length","render","Object","keys","products","price","map","product","_id","productPic","mapDispatchToProps","dispatch","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport * as productActions from \"../../../store/actions/productActions\";\nimport { connect } from \"react-redux\";\nimport \"./style.css\";\nimport Product from \"./Product\";\n\nclass Products extends Component {\n  state = {\n    slug: \"Products\"\n  };\n\n  componentDidMount() {\n    const slug =\n      this.props.match.params.slug === \"all\"\n        ? \"\"\n        : this.props.match.params.slug;\n    this.getProducts(slug);\n    this.props.getCategories();\n  }\n\n  getProducts = (categorySlug = \"\", filter = null) => {\n    this.props.getProducts(categorySlug, filter).then(response => {\n      console.log(response);\n\n      // this.setState({\n      //     products: response.message\n      // })\n    });\n  };\n\n  componentDidUpdate(prevProps) {\n    if (this.props.match.params.slug != prevProps.match.params.slug) {\n      this.getProducts(this.props.match.params.slug);\n    }\n  }\n\n  applyFilter = filter => {\n    const slug =\n      this.props.match.params.slug === \"all\"\n        ? \"\"\n        : this.props.match.params.slug;\n    this.getProducts(slug, filter);\n  };\n\n  categoryTree(categories) {\n    var categoriesAr = [];\n    for (var value of categories) {\n      categoriesAr.push(\n        <li key={value.slug}>\n          <Link to={`/products/${value.slug}`}>{value.name}</Link>\n          {value.children.length > 0 ? (\n            <ul>{this.categoryTree(value.children)}</ul>\n          ) : null}\n        </li>\n      );\n    }\n\n    return categoriesAr;\n  }\n\n  render() {\n    const slug =\n      Object.keys(this.props.match.params).length > 0\n        ? this.props.match.params.slug\n        : this.state.slug;\n\n    return (\n      <div className=\"Content\">\n        <div className=\"ContentTitle\">\n          <h2 className=\"CategoryTitle\">{slug}</h2>\n        </div>\n        <div className=\"ContentBody\">\n          <div className=\"SideMenu\">\n            <h3 className=\"SideMenuTitle\">Filters</h3>\n            <div className=\"Filter\">\n              <p className=\"FilterTitle\">Categories</p>\n              <ul>\n                {this.props.products.categories.length > 0\n                  ? this.categoryTree(this.props.products.categories)\n                  : null}\n              </ul>\n            </div>\n\n            <div className=\"Filter\">\n              <p className=\"FilterTitle\">Price</p>\n              <div>\n                <button\n                  onClick={() => this.applyFilter({ price: 1 })}\n                  className=\"FilterButton\"\n                >\n                  Low to High\n                </button>\n              </div>\n              <div>\n                <button\n                  onClick={() => this.applyFilter({ price: -1 })}\n                  className=\"FilterButton\"\n                >\n                  High to Low\n                </button>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"MainContent\">\n            <div className=\"ProductArea\">\n              {this.props.products.products.map(product => (\n                <Product\n                  key={product._id}\n                  id={product._id}\n                  name={product.name}\n                  price={product.price}\n                  productPic={product.productPic}\n                  slug={product.slug}\n                />\n              ))}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    getProducts: (categorySlug, filter) =>\n      dispatch(productActions.getProducts(categorySlug, filter)),\n    getCategories: () => dispatch(productActions.getCategories())\n  };\n};\n\nconst mapStateToProps = state => {\n  return {\n    products: state.products\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Products);\n"]},"metadata":{},"sourceType":"module"}